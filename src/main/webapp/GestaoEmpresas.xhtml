<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
	<meta charset="UTF-8" />
	<title>Gestão Empresas</title>
	<h:outputStylesheet library="projeto_jpa" name="style.css" />
	
		<f:metadata> <!-- Usado para chamar um metodo do back-end -->
			<f:viewAction action="#{gestaoEmpresaBean.carregaEmpresas}" />	
		</f:metadata>
</h:head>
<h:body>

	<header>
		<h:graphicImage library="projeto_jpa" name="logo.png" id="logo"></h:graphicImage>
	</header>

	<H2>Cadastro de empresas</H2>
		
		<div id="conteudo">
			<p:dataTable var="empresa" value="#{gestaoEmpresaBean.listaEmpresas}" emptyMessage="Nenhuma informação encontrada">
				<f:facet name="header">
					Lista de empresas
				</f:facet>
					<p:column headerText="Razão Social:">
						<h:outputText value="#{empresa.razaoSocial}"/>
					</p:column>
					<p:column headerText="Nome Fantasia:">
						<h:outputText value="#{empresa.nomeFantasia}"/>
					</p:column>
					<p:column headerText="Tipo Empresa:">
						<h:outputText value="#{empresa.tipo}"/>
					</p:column>
					<p:column headerText="Ramo Atividade:">
						<h:outputText value="#{empresa.ramoAtividade.descricao}"/>
					</p:column>
					
					<f:facet name="footer">
						<span class="font-bold">Total Empresas: #{gestaoEmpresaBean.totalEmp} </span>
					</f:facet>
			</p:dataTable>
		</div>

	<footer> Curso online "JSF e PrimeFaces Essencial" </footer>
</h:body>
</html>